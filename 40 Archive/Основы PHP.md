Source - https://metanit.com/php/tutorial/2.1.php

- Для перехода с синтаксиса html на php используется тег - `<?php ?>`. Если файл состоит только из PHP кода, то принято опускать закрывающий тег.
- Для вывода одного значения используется тег `<= ... ?>`.
- Применяется динамическая типизация со следующими типами:
	- bool, int, float, string, array, object, callable, mixed, resource, null.

```php
// Переменная
$number = 42;

// Вывод 
echo $number;
echo "Number is $number!"
```

```php
// Конкатенация
echo "Hello" . " " . "Wolrd!";

// Оператор Spaceship
$x = 2 <=> 2; // 0  (равенство)
$y = 3 <=> 2; // 1  (больше)
$z = 1 <=> 2; // -1 (меньше)
```

```php
// if-elseif-else
if (условие 1) {
	...
} elseif (условие 2) {
	...
} else {
	...
}

// Альтернативный синтаксис
if (условие):
	...
endif;

// Тернарный оператор
$var = условие ? значение если истинно : значение если ложно;

// Внутри HTML
<?php if ($a > 0) { ?>
	<h2>Переменная a больше нуля</h2>
<?php } ?>
```

```php
// switch-case
switch (выражение) {
    case значение 1: ...; break;
    case значение 2: ...; break;
    //...........................
    case значение N: ...; break;
    default: ...; break;
}

// Альтернативный синтаксис
switch(3):
    case 1: 
        echo "Сложение";
        break;
    case 2: 
        echo "Вычитание";
        break;
    default: 
        echo "Действие по умолчанию";
        break;
endswitch

// match
$var = match(выражение)
{
    значение 1 => ...,
    значение 2 => ...,
    //................
    default => ...,
};
```

- match в отличии от switch всегда возвращает какой-то результат и проверяет тип данных.

```php
// for
for ([инициализация счетчика]; [условие]; [изменение счетчика])
{
    ...
}

// while
while (условие)
{
    ...
}

// do-while
do 
{
	...
}
while (условие)
```

```php
// Определение массива
$x = array(1, 2, 3);
$x = [1, 2, 3];

// Обращение к элементам
$x[1]     // 2
$x[1] = 0 // 1, 0, 3

// Добавление элемента в конец
$x[] = 4; // 1, 2, 3, 4

// Вывести наглядное представление массива
print_r($x);

// Сопоставлние ключей
$y = [10=>1, 20=>4, 30=>9, 40=>16];

// Перебор массива
foreach(массив as ключ [=> значение])
{
    echo "$element<br />";
}
```

- Если переопрделить индекс лишь для одного элемента, то последующие индексы также изменятся на + 1 после него.

```php
// Ассоциативные массивы
$x = ["red" => "красный", "blue" => "синий", "green" => "зеленый"];

// Отличие лишь в использовании строковых индексов
```

```php
// Многомерные массивы
$x = [[1, 2], [3, 4]];

// Обращение к элементу
$x[0][1] // 2 
```

```php
// Функции
function имя_функции([параметр [, ...]]) [: возвращаемый тип]
{
    ...
    [return ...;]
}

// Необязательные параметры (значение по умолчанию)
function displayUser($name, $age = 18) { ... }

// Именованные параметры
displayUser(age: 20, name: "Alex");

// Переменное количество параметров
fucntion sum(...$numbers) { ... };

sum(1, 2, 3);
sum(...[1, 2, 3]);
```

- Любые именованные необязательные параметры ВСЕГДА распологаются после НЕименованных параметров.
- Параметр, что представляет переменное количество значений указывается ВСЕГДА после всех остальных параметров.

```php
// Аноанимные функции
$func = function([параметр [, ...]]) { 
	...
    [return ...;]
};
func();
```

```php
// Замыкания
$globalVar = 42;
 
$showNumber = function() use($globalVar)
{
    echo $number;
};

$showNumber(); // 42
```

- Замыкания позволяют анонимным функциям использовать внешние переменные.

```php
// Стрелочные функции
fn(параметры) => действия;
```

- Стрелочные функции автоматически имеют доступ к переменным из внешнего окружения.

```php
// Генераторы
function generator()
{    
    yield ...;
    
    // Массив в качестве источника данных
    yield from [1, 2, 3]; 
}
```

```php
// Ссылка на переменную
$x = 67;
$y = &$x;  // x = 67, y = 67
$y = 42;   // x = 42, y = 42

// Возвращение ссылок из функции
function &checkName(&$name) { ... };
&checkName(...);
```

- Блоки циклов и условий не образуют локульную область видимости, то есть их переменные можно использовать вне блоков кода.

```php
// Статические переменные
static $var = ...;
```

- Значение статических переменных сохраняется после выхода из функции.

```php
// Обращение к глобальной переменной
$x = 42;
function func()
{
	global $var;
	echo $var;
	
	// Альтернатива - массив глобальных переменн
	$y = $GLOBALS["x"];
	$GLOBALS["x"] = 67;
}
```

```php
// Константы
const PI = 3.14;

// Альтернативы - функция define
define("NUMBER", 42);

// Проверка существование констнаты
defined("PI") // True
```

Магические константы PHP:
- __FILE__: хранит полный путь и имя текущего файла
- __LINE__: хранит текущий номер строки, которую обрабатывает интерпретатор
- __DIR__: хранит каталог текущего файла
- __FUNCTION__: название обрабатываемой функции
- __CLASS__: название текущего класса
- __TRAIT__: название текущего трейта
- __METHOD__: название обрабатываемого метода
- __NAMESPACE__: название текущего пространства имен
- ::class/span>: полное название текущего класса

```php
// Работа с переменными
isset(переменная); // Инициализирована ли переменная
empty(переменная); // Проверка на пустую переменную
unset(переменная); // Уничтожить переменную
gettype(переменная); // Получить тип переменной
settype(перемеппая, тип); // Установить тип переменной (строкое описание)

// Явное преобразование типов
$x = (int) false; // 0
```

- Есть специализированные функции для проверки определённого типа:
	- is_integer, is_string, is_numeric и т.п.

```php
// Операции с массивами
is_array(переменная); // Проверяет, является ли переменная массивом
count(массив) / sizeof(массив) // Получить количество элементов массива
shuffle(массив); // Перемешать элементы массива

// Ещё один способ создания ассоциативного массива
$x = 1;
$y = 2;
$z = 3;

$data = compact("x", "y", "z"); // Имена переменных
print_r($data); // [x] => 1 [y] =>2 [z] => 3

// Сортировка массивов
asort(массив, [тип сортировки]);

// Сортировка по ключам
ksort(массив);

// Натуральная сортировка для продвинутой сортировки
natsort(массив);
natcasesort(массив); // Игнорирование регистра
```

Типы сортировок в PHP:
- `SORT_REGULAR`: автоматический выбор сортировки
- `SORT_NUMERIC`: числовая сортировка
- `SORT_STRING`: сортировка по алфавиту